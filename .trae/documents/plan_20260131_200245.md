# 资源搜索功能完善计划

## 需要修复的问题

### 1. 质量分数保留2位小数
**修改**：`web/src/views/SearchView.vue`
- 将 `toFixed(1)` 改为 `toFixed(2)`
- 显示效果：`0.95` 而不是 `0.9`

### 2. 资源类型支持所有主流网盘
**问题**：前端调用 `searchResources` 时没有传递 `cloud_types` 参数，导致只显示20条夸克连接
**修改**：
- `web/src/api/search.ts`：`searchResources` 函数添加 `sort_by` 和 `sort_order` 参数
- `web/src/views/SearchView.vue`：修改搜索逻辑，始终传递 `cloud_types` 和排序参数

### 3. 排序方式增加时间和大小排序，支持升序/降序
**修改**：
- `web/src/views/SearchView.vue`：
  - 重新添加排序选项区域
  - 添加排序方式：时间、大小、质量
  - 添加排序顺序：升序、降序
  - 修改 filters 对象，添加 `sortBy` 和 `sortOrder`
- `web/src/api/search.ts`：添加 `sort_by` 和 `sort_order` 参数支持
- `app/services/search_service.py`：确保支持排序参数

## 修改文件清单
1. `web/src/views/SearchView.vue` - 修改分数格式、添加排序选项和参数
2. `web/src/api/search.ts` - 添加排序参数接口
3. `app/services/search_service.py` - 确保支持排序参数