## 目标
重新设计启动脚本，解决端口占用问题，提供更智能的用户体验

## 问题分析
当前脚本在端口被占用时直接退出，需要用户手动处理，体验不佳。

## 新设计方案：综合智能模式

### 核心功能
1. **智能检测**：自动识别占用端口的进程类型
2. **自动处理**：对已知服务（Node/Python）自动终止
3. **用户选择**：对未知进程提供交互式选项
4. **端口切换**：支持自动切换到备用端口

### 用户交互流程
```
[1/5] Checking port usage...
[i] Port 3000 is occupied by: node.exe (PID: 12345)
[i] This appears to be a residual frontend service
[?] Choose action: [T]erminate / [S]witch port / [E]xit (default: T):
```

### 选项说明
- `T` - 终止进程并继续（默认）
- `S` - 切换到备用端口（3001/3002/8080）
- `E` - 退出脚本

### 备用端口列表
- 前端：3000 → 3001 → 3002 → 8080
- 后端：8000 → 8001 → 8002 → 8081

### 文件修改
- **start-all.bat**：重写为智能版本
- **stop-all.bat**：保持不变

### 技术实现
1. 使用 `netstat -ano` 获取占用端口的PID
2. 使用 `tasklist` 获取进程名称
3. 使用 `choice` 命令实现交互选择
4. 使用 `taskkill` 终止进程
5. 动态传递端口参数给前端/后端

### 验证方式
1. 先手动启动一个服务占用端口3000
2. 运行 start-all.bat
3. 验证脚本是否正确识别并提供选项
4. 选择不同选项验证功能

### 回滚路径
- 保留原脚本备份
- 或删除新脚本，使用原手动启动方式