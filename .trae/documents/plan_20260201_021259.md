# 前后端对接测试计划

## 测试目标
验证前端页面与后端API的完整对接，确保功能正常、数据一致、错误处理正确。

## 测试方法
使用 **Playwright** 进行浏览器级E2E测试，模拟真实用户操作流程。

## 测试范围

### 1. 文件管理模块（FilesView.vue）
- 加载文件列表、文件夹导航、同步文件、生成STRM
- Cookie未配置提示、空文件夹显示、数据格式化

### 2. 搜索模块（SearchView.vue）
- 正常搜索、空关键词验证、筛选条件、分页加载
- 结果展示、链接打开、转存功能

### 3. 重命名模块（RenameView.vue）
- 路径选择、分析预览、任务管理、执行重命名
- 置信度显示、任务筛选、编辑/跳过操作

### 4. 跨模块场景
- 搜索转存后文件管理查看、同步后重命名操作

## 测试步骤

### 环境准备
1. 启动后端服务（端口8000）
2. 启动前端开发服务器（端口3000）
3. 确认服务健康状态

### 执行测试
1. 创建测试脚本 `quark_strm/tests/test_frontend_backend_e2e.py`
2. 使用Playwright打开浏览器
3. 依次测试各页面功能
4. 记录测试结果、截图、日志

### 输出结果
- 详细测试报告：`logs/frontend_backend_e2e_report.json`
- 关键步骤截图：`logs/e2e_screenshots/`
- 问题清单和改进建议

## 风险处理
- 如果Playwright浏览器安装失败，降级为手动测试
- 如果Cookie未配置，跳过依赖Cookie的功能
- 记录所有异常和限制条件