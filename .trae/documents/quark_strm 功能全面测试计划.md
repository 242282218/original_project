## 测试计划概述

**执行 Agent**: Tester Agent  
**测试目标**: 全面测试 quark_strm 所有功能模块，跑通流程并发现问题  
**测试范围**: 后端 API、前端界面、集成流程

---

## Phase 1: 项目启动与基础服务测试

### 1.1 环境检查
- [ ] 检查 Python 依赖安装
- [ ] 检查前端依赖 (web/frontend)
- [ ] 验证配置文件 config.yaml

### 1.2 服务启动测试
- [ ] 启动后端服务 (port 8000)
- [ ] 检查健康检查接口 /health
- [ ] 检查根接口 /
- [ ] 检查配置接口 /config
- [ ] 启动前端服务 (port 5173)
- [ ] 验证前后端连通性

---

## Phase 2: API 接口功能测试

### 2.1 夸克网盘 API (/api/quark, /api/quark_sdk)
- [ ] 测试获取文件列表
- [ ] 测试获取文件详情
- [ ] 测试获取下载链接

### 2.2 搜索 API (/api/search)
- [ ] 测试搜索资源
- [ ] 测试搜索结果解析

### 2.3 刮削 API (/api/scrape)
- [ ] 测试创建刮削任务
- [ ] 测试启动/停止任务
- [ ] 测试获取任务列表
- [ ] 测试获取任务详情
- [ ] 测试电影刮削
- [ ] 测试剧集刮削

### 2.4 重命名 API (/api/rename)
- [ ] 测试预览重命名
- [ ] 测试执行重命名
- [ ] 测试回滚功能
- [ ] 测试获取历史记录

### 2.5 STRM API (/api/strm)
- [ ] 测试生成 STRM 文件
- [ ] 测试 STRM 验证

### 2.6 Emby API (/api/emby)
- [ ] 测试 Emby 服务器连接
- [ ] 测试媒体库刷新

### 2.7 任务管理 API (/api/tasks)
- [ ] 测试获取任务列表
- [ ] 测试任务状态更新

### 2.8 仪表盘 API (/api/dashboard)
- [ ] 测试统计数据获取

### 2.9 系统配置 API (/api/system_config)
- [ ] 测试配置读取
- [ ] 测试配置更新

### 2.10 通知 API (/api/notification)
- [ ] 测试通知列表获取
- [ ] 测试通知标记已读

---

## Phase 3: 前端功能测试

### 3.1 页面加载测试
- [ ] 测试首页 /dashboard
- [ ] 测试搜索页 /search
- [ ] 测试刮削页 /scrape
- [ ] 测试重命名页 /rename
- [ ] 测试任务页 /tasks
- [ ] 测试配置页 /config

### 3.2 交互功能测试
- [ ] 测试表单提交
- [ ] 测试数据表格
- [ ] 测试弹窗/确认框
- [ ] 测试 WebSocket 实时更新

---

## Phase 4: 集成测试与问题汇总

### 4.1 端到端流程测试
- [ ] 完整刮削流程
- [ ] 完整重命名流程
- [ ] 搜索→刮削→重命名联动

### 4.2 问题记录
- [ ] 记录所有发现的 Bug
- [ ] 分类问题严重程度
- [ ] 提供修复建议

---

## 测试执行方式

根据规则第7条："测试阶段减少使用终端命令，优先使用 Python 代码完成验证"

将使用 Python 脚本进行 API 测试，减少终端命令依赖。

## 回滚方案

```bash
git reset --hard <commit_hash>
```

---

**请确认此测试计划后，我将开始执行 Phase 1**