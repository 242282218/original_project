## 方案A集成执行计划

### Phase 1: 环境检查
- 检查 Docker 是否可用
- 检查 Go 是否可用
- 确认 httpx 依赖已安装（已确认）

### Phase 2: 启动 pansou 服务
由于当前环境无 Docker/Go，提供两种方案：

**方案A1（推荐）：使用 Docker Desktop**
```bash
docker run -d --name pansou -p 8888:8888 ghcr.io/fish2018/pansou:latest
```

**方案A2：源码编译运行**
```bash
cd pansou-reference
go mod tidy
go build -o pansou.exe
./pansou.exe
```

### Phase 3: 配置环境变量
在启动 smart_media 前设置：
```bash
$env:PANSOU_API_URL="http://localhost:8888"
```

### Phase 4: 测试集成
- 启动 smart_media 服务
- 调用 `/api/search/status` 检查服务状态
- 调用 `/api/search?keyword=测试` 验证搜索功能

### 风险提示
- 如果 Docker 不可用，需要安装 Docker Desktop
- 如果 Go 不可用，需要下载安装 Go 1.18+
- pansou 服务需要独立运行，占用 8888 端口

### 回滚方案
```bash
# 停止 pansou 服务
docker stop pansou  # 或 Ctrl+C 停止源码运行

# 恢复原搜索服务（已备份在 git）
git checkout HEAD -- quark_strm/app/services/search_service.py
```