# 资源搜索功能修复计划

## 需要修复的问题

### 1. 资源类型只显示夸克连接 → 支持所有主流网盘
**问题**：后端 `search_service.py` 第81行默认只搜索夸克网盘资源
**修复**：
- 修改 `search_service.py` 第81行，将默认 `cloud_types` 从 `['quark']` 改为 `None`
- 这样会搜索所有类型的网盘资源

### 2. 排序方式不生效 → 改为时间排序
**问题**：SearchView.vue 有排序选项但未实现排序逻辑
**修复**：
- 删除 SearchView.vue 第95-103行的"排序方式"筛选组
- 修改 `search_service.py` 第79-87行，将 `sort_by` 参数固定为 `'time'`（时间排序）

### 3. 质量分数显示过长 → 保留1位小数
**问题**：质量分数显示为 `0.40560369813051234`
**修复**：
- 修改 SearchView.vue 第140行和第229行，使用 `toFixed(1)` 格式化分数
- 从 `{{ item.score || 0 }}` 改为 `{{ (item.score || 0).toFixed(1) }}`

## 修改文件清单
1. `app/services/search_service.py` - 修改默认网盘类型和排序方式
2. `web/src/views/SearchView.vue` - 删除排序选项，格式化质量分数